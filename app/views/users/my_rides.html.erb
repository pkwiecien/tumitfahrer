<%= javascript_include_tag "jquery.bootpag.min.js" %>

<div class="container_ride">
<% provide(:title, "My rides") %>
<div class="row"  id="main_img" style="padding-left:70px;margin-top: 47px; background: url('<%= asset_path "1.jpg"%>')">

<div class="col-xs-12 col-md-12 " style="width:96%;margin-left:2px;margin-top:25px;">
<div id="Created" class="col-md-4" style=" background: #53A2d0;text-color : #fffff;text-align : center">
  <p><img src="<%= asset_path "my_rides.png" %>" style="height: 20px;margin-right: 0px; margin-top: 0px;">
    <a href="#" id="created"style="color: white;"><%= t("static.created") %></a>
  </p>
</div>
<div id="Joined" class="col-md-4" style="background: #53A2d0;text-color : #fffff;text-align : center">
  <p><img src="<%= asset_path "my_rides.png" %>" style="height: 20px;margin-right: 0px; margin-top: 0px;">
    <a href="#" id="joined"style="color: white;"><%= t("static.joined") %></a>
  </p>
</div>
<div id="Past" class="col-md-4" style="background: #53A2d0;text-color : #fffff;text-align : center">
  <p><img src="<%= asset_path "my_rides.png" %>" style="height: 20px;margin-right: 0px; margin-top: 0px;">
    <a href="#" id="past"style="color: white;"><%= t("static.past") %></a>
  </p>
</div>

<div id="Created_div" class="well col-md-12" style="margin-right: 0px; margin-top: 0px;border:none;border-radius:0px;">

  <div class="col-md-12" style="background: #53A2d0; width: 100%; min-width: 100px; color: #beddf1; text-align: left;height: 50px;">
    <p> <img src="<%= asset_path "driver_icon.png" %>" style="height: 30px;float:left; background-color: #53A2d0; padding: 5px">
    <h3 style="margin-top: 10px;text-align: left"><%= t("static.offers") %></h3>
    </p>

  </div>
  <% if @user.get_present_rides_as_driver == [] %>
      <div class="col-md-12">
        <p> Currently no rides Available </p>
      </div>

  <% elsif @user.get_present_rides_as_driver != [] %>

      <% @myridescreated_offers.each_with_index do |ride1, index| %>

          <div class="row" style="padding-bottom: -8px;padding-top: 8px;">
            <div class="col-md-1">
              <% if ride1.ride_type == 0%>
                  <img src="<%= asset_path "MainCampus@2x.png" %>" style="height: 46px; width:77px; margin-top:15px; float: left">
              <% else %>
                  <img class="img-responsive" id="destination_image" src='<%= @pic_url[index] %>' style="height: 46px; width:74px; margin-top:15px; float: left">
              <% end %>

            </div>

            <div class="col-md-6">
              <h4 style="margin-top:12px;color: #0076b3"> &nbsp;<%= ride1.departure_place %>
                <img src="<%= asset_path "arrow_left.png" %>" style="height: 14px;">  <%= ride1.destination %></h4>
              <p style="margin-top: -2px;"> &nbsp;
                <img src="<%= asset_path "CalendarIconBlack@2x.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%d-%m-%Y") %> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <img src="<%= asset_path "TimeIconBlack.pnhrg" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%I:%M %P") %> &nbsp;

              </p>
            </div>

            <div class="col-md-5">

                  <p>
                    <% if ride1.requests.size > 0 %>

                  <img src="<%= asset_path "passenger_icon.png" %>" style="height: 46px; margin-top:15px;  background-color: #48a748; padding: 8px">
                  <img src="<%= asset_path "cancel_icon.png" %>" style="height: 46px; margin-top:15px;  background-color: #b43030; padding: 8px">
                  <% end %>
                  <%= link_to "/rides/#{ride1.id}", {method: :get, class: "btn", style: "border-radius: 0px;float: right; margin-top: 15px; height: 52px; padding: 15px;background-color:#53A2d0;color: #beddf1; "} do %>
                        View Ride <span class="glyphicon glyphicon-chevron-right"></span>
                  <% end %>

                  </p>

            </div>
          </div>

          <hr size="2" style="margin-top:5px;height:1px;border:none;color:#333;background-color:#333;">
      <% end %>
      <%= will_paginate @myridescreated_offers, :params => {selected_div: "Created"} %>

  <%end %>

  <div class="col-md-12" style="background: #53A2d0; width: 100%; min-width: 100px; color: #beddf1; text-align: left;height: 50px;">
    <p> <img src="<%= asset_path "passenger_icon.png" %>" style="height: 30px;float:left; background-color: #53A2d0; padding: 5px">
    <h3 style="margin-top: 10px;text-align: left"><%= t("static.requests") %></h3>
    </p>

  </div>

  <% if @user.get_present_requests_for_driver == [] %>
      <div class="col-md-12">
        <p> Currently no rides Available </p>
      </div>

  <% elsif @user.get_present_requests_for_driver != [] %>

      <% @myridescreatedrequest.each_with_index do |ride1, index| %>
          <div class="row" style="padding-bottom: -8px;padding-top: 8px;">
            <div class="col-md-1">
              <% if ride1.ride_type == 0%>
                  <img src="<%= asset_path "MainCampus@2x.png" %>" style="height: 46px; width:77px; margin-top:15px; float: left">
              <% else %>
                  <img class="img-responsive" id="destination_image" src='<%= @pic_url[index] %>' style="height: 46px; width:74px; margin-top:15px; float: left">
              <% end %>

            </div>

            <div class="col-md-6">
              <h4 style="margin-top:12px;color: #0076b3"> &nbsp;<%= ride1.departure_place %>
                <img src="<%= asset_path "arrow_left.png" %>" style="height: 14px;">  <%= ride1.destination %></h4>
              <p style="margin-top: -2px;"> &nbsp;
                <img src="<%= asset_path "CalendarIconBlack@2x.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%d-%m-%Y") %> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <img src="<%= asset_path "TimeIconBlack.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%I:%M %P") %> &nbsp;

              </p>
            </div>

              <div class="col-md-5">

                <p>
                  <% if ride1.requests.size > 0 %>

                      <img src="<%= asset_path "passenger_icon.png" %>" style="height: 46px; margin-top:15px;  background-color: #48a748; padding: 8px">
                      <img src="<%= asset_path "cancel_icon.png" %>" style="height: 46px; margin-top:15px;  background-color: #b43030; padding: 8px">
                  <% end %>
                  <%= link_to "/rides/#{ride1.id}", {method: :get, class: "btn", style: "border-radius: 0px;float: right; margin-top: 15px; height: 52px; padding: 15px;background-color:#53A2d0;color: #beddf1; "} do %>
                      View Ride <span class="glyphicon glyphicon-chevron-right"></span>
                  <% end %>

                </p>
            </div>
          </div>

          <hr size="2" style="margin-top:5px;height:1px;border:none;color:#333;background-color:#333;">

      <% end %>
      <%= will_paginate @myridescreatedrequest, :params => {selected_div: "Created"} %>
  <% end %>
</div>

<div id="Joined_div" class="well col-md-12" style="margin-right: 0px; margin-top: 0px;border:none;border-radius:0px;">

  <div class="col-md-12" style="background: #53A2d0; width: 100%; min-width: 100px; color: #beddf1; text-align: left;height: 50px;">
    <p> <img src="<%= asset_path "passenger_icon.png" %>" style="height: 30px;float:left; background-color: #53A2d0; padding: 5px">
    <h3 style="margin-top: 10px;text-align: left"><%= t("static.accepted") %></h3>
    </p>

  </div>
  <% if @user.rides_as_passenger == [] %>
      <div class="col-md-12">
        <p> Currently no rides Available </p>
      </div>

  <% elsif @user.rides_as_passenger != [] %>

      <% @myridesjoined_accepted.each_with_index do |ride1, index| %>
          <div class="row" style="padding-bottom: -8px;padding-top: 8px;">
            <div class="col-md-1">
              <% if ride1.ride_type == 0%>
                  <img src="<%= asset_path "MainCampus@2x.png" %>" style="height: 46px; width:77px; margin-top:15px; float: left">
              <% else %>
                  <img class="img-responsive" id="destination_image" src='<%= @pic_url[index] %>' style="height: 46px; width:74px; margin-top:15px; float: left">
              <% end %>

            </div>

            <div class="col-md-9">
              <h4 style="margin-top:12px;color: #0076b3"> &nbsp;<%= ride1.departure_place %>
                <img src="<%= asset_path "arrow_left.png" %>" style="height: 14px;">  <%= ride1.destination %></h4>
              <p style="margin-top: -2px;"> &nbsp;
                <img src="<%= asset_path "CalendarIconBlack@2x.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%d-%m-%Y") %> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <img src="<%= asset_path "TimeIconBlack.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%I:%M %P") %> &nbsp;

              </p>
            </div>


            <div class="col-md-3" style="float:right;">
              <%= link_to "/rides/#{ride1.id}", {method: :get, class: "btn", style: "border-radius: 0px;float: right; margin-top: 15px; height: 52px; padding: 15px;background-color:#53A2d0;color: #beddf1; "} do %>
                  View Ride <span class="glyphicon glyphicon-chevron-right"></span>
              <% end %>
            </div>

          </div>

          <hr size="2" style="margin-top:5px;height:1px;border:none;color:#333;background-color:#333;">
      <% end %>
      <%= will_paginate @myridesjoined_accepted,  :params => {selected_div: "Joined"} %>
  <% end %>


  <div class="col-md-12" style="background: #53A2d0; width: 100%; min-width: 100px; color: #beddf1; text-align: left;height: 50px;">
    <p> <img src="<%= asset_path "passenger_icon.png" %>" style="height: 30px;float:left; background-color: #53A2d0; padding: 5px">
    <h3 style="margin-top: 10px;text-align: left"><%= t("static.pending") %></h3>
    </p>

  </div>
  <% if @user.requested_rides == [] %>
      <div class="col-md-12">
        <p> Currently no rides Available </p>
      </div>

  <% elsif @user.requested_rides != [] %>
      <% @myridesjoined_pending.each_with_index do |ride1, index| %>
          <div class="row" style="padding-bottom: -8px;padding-top: 8px;">
            <div class="col-md-1">
              <% if ride1.ride_type == 0%>
                  <img src="<%= asset_path "MainCampus@2x.png" %>" style="height: 46px; width:77px; margin-top:15px; float: left">
              <% else %>
                  <img class="img-responsive" id="destination_image" src='<%= @pic_url[index] %>' style="height: 46px; width:74px; margin-top:15px; float: left">
              <% end %>

            </div>

            <div class="col-md-6">
              <h4 style="margin-top:12px;color: #0076b3"> &nbsp;<%= ride1.departure_place %>
                <img src="<%= asset_path "arrow_left.png" %>" style="height: 14px;">  <%= ride1.destination %></h4>
              <p style="margin-top: -2px;"> &nbsp;
                <img src="<%= asset_path "CalendarIconBlack@2x.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%d-%m-%Y") %> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <img src="<%= asset_path "TimeIconBlack.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%I:%M %P") %> &nbsp;

              </p>
            </div>

            <div class="col-md-5">

           <p>
             <img src="<%= asset_path "passenger_icon.png" %>" style="height: 46px; margin-top:15px;  background-color: #48a748; padding: 8px">
             <img src="<%= asset_path "cancel_icon.png" %>" style="height: 46px; margin-top:15px;  background-color: #b43030; padding: 8px">
             <%= link_to "/rides/#{ride1.id}", {method: :get, class: "btn", style: "border-radius: 0px;float: right; margin-top: 15px; height: 52px; padding: 15px;background-color:#53A2d0;color: #beddf1; "} do %>
                 View Ride <span class="glyphicon glyphicon-chevron-right"></span>
             <% end %>
           </p>

            </div>
          </div>

          <hr size="2" style="margin-top:5px;height:1px;border:none;color:#333;background-color:#333;">
      <% end %>
      <%= will_paginate @myridesjoined_pending,  :params => {selected_div: "Joined"} %>
  <%end %>

</div>
<div id="Past_div" class="well col-md-12" style="margin-right: 0px; margin-top: 0px;border:none;border-radius:0px;">
  <div id="Past_Offers" class="col-md-12" style="background: #53A2d0; width: 100%; min-width: 100px; color: #beddf1; text-align: left;height: 50px;">
    <p> <img src="<%= asset_path "driver_icon.png" %>" style="height: 30px;float:left; background-color: #53A2d0; padding: 5px">
    <h3 style="margin-top: 10px;text-align: left"><%= t("static.offers") %></h3>
    </p>

  </div>


  <% if @user.get_past_rides_as_driver == [] %>
      <div class="col-md-12">
        <p> Currently no rides Available </p>
      </div>

  <% elsif @user.get_past_rides_as_driver != [] %>

      <% @myridespast_offers.each_with_index do |ride1, index| %>
          <div class="row" style="padding-bottom: -8px;padding-top: 8px;">
            <div class="col-md-1">
              <% if ride1.ride_type == 0%>
                  <img src="<%= asset_path "MainCampus@2x.png" %>" style="height: 46px; width:77px; margin-top:15px; float: left">
              <% else %>
                  <img class="img-responsive" id="destination_image" src='<%= @pic_url[index] %>' style="height: 46px; width:74px; margin-top:15px; float: left">
              <% end %>

            </div>

            <div class="col-md-8">
              <h4 style="margin-top:12px;color: #0076b3"> &nbsp;<%= ride1.departure_place %>
                <img src="<%= asset_path "arrow_left.png" %>" style="height: 14px;">  <%= ride1.destination %></h4>
              <p style="margin-top: -2px;"> &nbsp;
                <img src="<%= asset_path "CalendarIconBlack@2x.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%d-%m-%Y") %> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <img src="<%= asset_path "TimeIconBlack.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%I:%M %P") %> &nbsp;

              </p>
            </div>

            <div class="col-md-3">
<p>
  <img src="<%= asset_path "rating.png" %>" style="height: 46px; margin-top:15px;  background-color: #5386b4; padding: 8px">
  <%= link_to "/rides/#{ride1.id}", {method: :get, class: "btn", style: "border-radius: 0px;float: right; margin-top: 15px; height: 52px; padding: 15px;background-color:#53A2d0; color: #beddf1; "} do %>
      View Ride <span class="glyphicon glyphicon-chevron-right"></span>
  <% end %>

</p>

            </div>


          </div>
          <hr size="2" style="margin-top:5px;height:1px;border:none;color:#333;background-color:#333;">


      <%end %>
      <%= will_paginate @myridespast_offers, :params => {selected_div: "Past"} %>
  <% end %>

  <div class="col-md-12" style="background: #53A2d0; width: 100%; min-width: 100px; color: #beddf1; text-align: left;height: 50px;">
    <p> <img src="<%= asset_path "passenger_icon.png" %>" style="height: 30px;float:left; background-color: #53A2d0; padding: 5px">
    <h3 style="margin-top: 10px;text-align: left"><%= t("static.requests") %></h3>
    </p>

  </div>

  <% if @user.get_past_requests_for_driver == [] %>
      <div class="col-md-12">
        <p> Currently no rides Available </p>
      </div>

  <% elsif @user.get_past_requests_for_driver != [] %>
      <% @myridespast_requests.each_with_index do |ride1, index| %>
          <div class="row" style="padding-bottom: -8px;padding-top: 8px;">
            <div class="col-md-1">
              <% if ride1.ride_type == 0%>
                  <img src="<%= asset_path "MainCampus@2x.png" %>" style="height: 46px; width:77px; margin-top:15px; float: left">
              <% else %>
                  <img class="img-responsive" id="destination_image" src='<%= @pic_url[index] %>' style="height: 46px; width:74px; margin-top:15px; float: left">
              <% end %>

            </div>

            <div class="col-md-8">
              <h4 style="margin-top:12px;color: #0076b3"> &nbsp;<%= ride1.departure_place %>
                <img src="<%= asset_path "arrow_left.png" %>" style="height: 14px;">  <%= ride1.destination %></h4>
              <p style="margin-top: -2px;"> &nbsp;
                <img src="<%= asset_path "CalendarIconBlack@2x.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%d-%m-%Y") %> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <img src="<%= asset_path "TimeIconBlack.png" %>" style="height: 14px;"> &nbsp; <%= ride1.departure_time.strftime("%I:%M %P") %> &nbsp;

              </p>
            </div>

            <div class="col-md-3">



              <p>
                <img src="<%= asset_path "rating.png" %>" style="height: 46px; margin-top:15px;  background-color: #5386b4; padding: 8px">
                <%= link_to "/rides/#{ride1.id}", {method: :get, class: "btn", style: "border-radius: 0px;float: right; margin-top: 15px; height: 52px; padding: 15px;background-color:#53A2d0; color: #beddf1; "} do %>
                    View Ride <span class="glyphicon glyphicon-chevron-right"></span>
                <% end %>

              </p>

            </div>
          </div>


          <hr size="2" style="margin-top:5px;height:1px;border:none;color:#333;background-color:#333;">



      <%end %>
      <%= will_paginate @myridespast_requests,  :params => {selected_div: "Past"} %>
  <%end %>
  <input type="label" id="selected_div" value="<%= @selected_div%>" style="display: none">
</div>

</div>
</div>
</div>
</div>



<script>
    $("#Created").click(function(){
        $("#Created_div").css("display", "block");
        $("#Joined_div").css("display","none")
        $("#Past_div").css("display","none");
        $("#Created").css('background-color','#53A2d0');
        $("#Joined").css('background-color','#2B2B2B').css('color','#F2F2F2');
        $("#Past").css('background-color','#2B2B2B').css('color','#F2F2F2');
    })
    $("#Joined").click(function(){
        $("#Created_div").css("display", "none");
        $("#Joined_div").css("display","block");
        $("#Past_div").css("display","none");
        $("#Joined").css('background-color','#53A2d0');
        $("#Created").css('background-color','#2B2B2B').css('color','#F2F2F2');
        $("#Past").css('background-color','#2B2B2B').css('color','#F2F2F2');
    })
    $("#Past").click(function(){
        $("#Created_div").css("display", "none");
        $("#Joined_div").css("display","none")
        $("#Past_div").css("display", "block");
        $("#Past").css('background-color','#53A2d0');
        $("#Created").css('background-color','#2B2B2B').css('color','#F2F2F2');
        $("#Joined").css('background-color','#2B2B2B').css('color','#F2F2F2');
    });
    $(document).ready(function(){
        $("#Created_div").css("display", "block");
        $("#Joined_div").css("display","none");
        $("#Past_div").css("display","none");
        $("#Joined").css('background-color','#2B2B2B').css('color','#F2F2F2');
        $("#Past").css('background-color','#2B2B2B').css('color','#F2F2F2');

        var select_div = $("#selected_div").val();
        $("#"+select_div).click();

    });

    $("#ride_destination").geocomplete({
        details: ".details",
        detailsAttribute: "data-geo"
    });

</script>